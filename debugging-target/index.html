<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8"/>
    <title>Debugging target firmware</title>
    
    <link rel="stylesheet" href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css">
    
    <link rel="stylesheet" href="https://cdn.bootcss.com/github-markdown-css/3.0.1/github-markdown.min.css"/>
    <link rel="stylesheet" type="text/css" href="/assets/css/app.main.bundle.css"/>
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta http-equiv="x-dns-prefetch-control" content="on">
  </head>

  <body>
<nav class="uk-navbar-container uk-background-primary uk-box-shadow-small uk-navbar-transparent uk-light" uk-sticky="animation: uk-animation-slide-top;cls-active: uk-navbar-sticky; top: 0" uk-navbar="uk-navbar">

  <div class="uk-navbar-left">
    <a class="uk-hidden@s" uk-navbar-toggle-icon="uk-navbar-toggle-icon" uk-toggle="target: #overlay-left-nav"></a>
    <a class="uk-navbar-item uk-logo" href="/">
      
      IBDAP
    </a>
  </div>
  <div class="uk-navbar-right uk-visible@s">
    <ul class="uk-navbar-nav">
      <li>
        <a href="/purchase"><img width="140" src="/images/buy-now-button-orange.png"></a>
      </li>
    </ul>
  </div>
  <div class="uk-navbar-right uk-hidden@s">
    <ul class="uk-navbar-nav">
      <li>
        <a uk-navbar-toggle-icon="uk-navbar-toggle-icon"></a>
        <div class="uk-navbar-dropdown uk-light" uk-dropdown="offset: 0">
          <ul class="uk-nav uk-navbar-dropdown-nav">
            <li>
              <a href="/purchase"><img width="140" src="/images/buy-now-button-orange.png"/></a>
            </li>
          </ul>
        </div>
      </li>
    </ul>
  </div>
</nav>


<div class="uk-card uk-card-default uk-padding-small left-nav uk-visible@m">
<ul class="uk-nav uk-nav-primary" uk-nav="toggle: > a > span.toggle"><li class=' uk-open  root-nav'>

    <a href="/">Home
      </a></li><li class='   root-nav'>

    <a href="/voltages/">Voltage and power supply
      </a></li><li class='   root-nav'>

    <a href="/pinmap/">Pinmap and Schematic
      </a></li><li class='   root-nav'>

    <a href="/ibdap-cmsis-dap/">Setup IBDAP as debugger
      </a></li><li class='   root-nav'>

    <a href="/compile-source-code/">Compile source code
      </a></li><li class='   root-nav'>

    <a href="/setup-diagram/">Setup diagram
      </a></li><li class='   root-nav'>

    <a href="/flash-target/">Flashing target firmware
      </a></li><li class='  uk-active root-nav'>

    <a href="/debugging-target/">Debugging target firmware
      </a></li><li class='   root-nav'>

    <a href="/use-as-dev-board/">IBDAP as dev board
      </a></li></ul>
</div>

<div id="overlay-left-nav" uk-offcanvas="overlay: true;">
<div class="uk-offcanvas-bar">
  <button class="uk-offcanvas-close" type="button" uk-close="uk-close"></button>
  <ul class="uk-nav uk-nav-primary" uk-nav="toggle: > a > span.toggle"><li class=' uk-open  root-nav'>

    <a href="/">Home
      </a></li><li class='   root-nav'>

    <a href="/voltages/">Voltage and power supply
      </a></li><li class='   root-nav'>

    <a href="/pinmap/">Pinmap and Schematic
      </a></li><li class='   root-nav'>

    <a href="/ibdap-cmsis-dap/">Setup IBDAP as debugger
      </a></li><li class='   root-nav'>

    <a href="/compile-source-code/">Compile source code
      </a></li><li class='   root-nav'>

    <a href="/setup-diagram/">Setup diagram
      </a></li><li class='   root-nav'>

    <a href="/flash-target/">Flashing target firmware
      </a></li><li class='  uk-active root-nav'>

    <a href="/debugging-target/">Debugging target firmware
      </a></li><li class='   root-nav'>

    <a href="/use-as-dev-board/">IBDAP as dev board
      </a></li></ul>
</div>
</div>

<div class="uk-section uk-section-default main-section">
  <div class="uk-container uk-container-small uk-position-relative">
    <h1>Debugging target firmware</h1>
<hr>
<p><strong>Using OpenOCD</strong></p>
<p>OpenOCD supports stepping, adding breakpoints watch points when you are debugging your firmware codes.</p>
<p>First, make sure you have the OpenOCD started. If you already done so in the “Flashing target firmware” section, you could skip this step now. Otherwise run the following command in a privileged terminal.</p>
<pre><code class="language-bash">$ openocd.exe -f interface/cmsis-dap.cfg -f target/nrf51.cfg
</code></pre>
<p>Then open the second privileged terminal to set up a telnet debug session with your target device:</p>
<pre><code class="language-bash">$ target remote localhost:3333
</code></pre>
<p>Now we need to set some breakpoints in the code:</p>
<pre><code class="language-bash">&gt; break main.c:25
</code></pre>
<p>Stop the currently running code using the following command:</p>
<pre><code class="language-bash">&gt; monitor reset halt
</code></pre>
<p>Reset the code back to start:</p>
<pre><code class="language-bash">&gt; monitor reset init
</code></pre>
<p>Now we can run the firmware program which will pause at the break point we just set:</p>
<pre><code class="language-bash">&gt; continue
</code></pre>
<p><strong>Using Keil</strong></p>
<p>Adding breakpoints, debugging and stepping in Keil is pretty straightforward, it’s all been setup on the IDE GUI, refer to the Keil documentation to details.</p>

  </div>
</div>
<footer>
  <div class="uk-light uk-padding-small uk-background-primary uk-box-shadow-small">
    <div>
      <span>
        
        <a href="/purchase/" class="uk-margin-right uk-text-small"><img width="140" src="/images/buy-now-button-orange.png"/></a>
      </span>
      <span class="uk-float-right  uk-visible@s">
        <a class="uk-margin-right uk-text-small" href="/contact/">Contact</a>
      </span>
    </div>
  </div>
</footer>
<script type="text/javascript" src="/assets/js/app.main.bundle.js"></script>
</body>

</html>